(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{395:function(v,_,t){"use strict";t.r(_);var a=t(7),s=Object(a.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h1",{attrs:{id:"设备控制器"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#设备控制器"}},[v._v("#")]),v._v(" 设备控制器")]),v._v(" "),_("h2",{attrs:{id:"概念"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#概念"}},[v._v("#")]),v._v(" 概念")]),v._v(" "),_("p",[v._v("能屏蔽设备之间的差异，CPU通过设备控制器来访问设备，控制器能独立处理一些操作")]),v._v(" "),_("p",[v._v("设备控制器有三类寄存器：")]),v._v(" "),_("ul",[_("li",[v._v("数据寄存器：CPU向I/O设备写入需要传输的数据")]),v._v(" "),_("li",[v._v("命令寄存器：CPU发送给IO设备的命令")]),v._v(" "),_("li",[v._v("状态寄存器：目的是告诉CPU工作的完成状态，当在工作状态，不接收CPU的指令")])]),v._v(" "),_("p",[v._v("输入输出设备分为两大类：")]),v._v(" "),_("ul",[_("li",[v._v("块设备：每个块有自己的地址，例如硬盘、USB，将数据存在固定大小的块中")]),v._v(" "),_("li",[v._v("字符类设备：以字符为单位发送或接收，不可寻址，例如鼠标")])]),v._v(" "),_("p",[v._v("对于块设备，因器传输的数据量大，设置了可读写的数据缓冲区")]),v._v(" "),_("blockquote",[_("p",[v._v("数据到数据缓冲区，囤够了一部分才发给设备或内存，从而减少对设备的频繁操作")])]),v._v(" "),_("p",[v._v("CPU与设备的控制寄存器和数据缓冲区的通信：")]),v._v(" "),_("ul",[_("li",[v._v("端口I/O：每个控制寄存器分配一个I/O端口，通过特殊的汇编指令操作")]),v._v(" "),_("li",[v._v("内存映射I/O：将所有控制寄存器映射到内存空间，像读写内存一样访问")])]),v._v(" "),_("h2",{attrs:{id:"i-o控制方式"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#i-o控制方式"}},[v._v("#")]),v._v(" I/O控制方式")]),v._v(" "),_("p",[v._v("设备控制器完成操作需要通知CPU，这种通知机制包括")]),v._v(" "),_("ol",[_("li",[_("p",[v._v("轮询等待")])]),v._v(" "),_("li",[_("p",[v._v("中断")])])]),v._v(" "),_("p",[v._v("需要有中断控制器硬件，完成任务后，产生中断。")]),v._v(" "),_("p",[v._v("对于频繁读写数据的磁盘，会造成较多的打断CPU的执行，占用时间")]),v._v(" "),_("ol",{attrs:{start:"3"}},[_("li",[v._v("DMA方式")])]),v._v(" "),_("p",[v._v("需要有DMA控制器，")]),v._v(" "),_("p",[v._v("CPU对DMA控制器发指令，安排任务和数据，DMA向磁盘请求完成数据传输后发中断通知CPU完成")]),v._v(" "),_("p",[v._v("CPU只在开始和结束时干预")]),v._v(" "),_("ol",{attrs:{start:"4"}},[_("li",[v._v("发")])]),v._v(" "),_("h2",{attrs:{id:"设备驱动程序"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#设备驱动程序"}},[v._v("#")]),v._v(" 设备驱动程序")]),v._v(" "),_("p",[v._v("对不同设备的访问是不同的，设备驱动程序屏蔽了具体设备的差异。")]),v._v(" "),_("p",[v._v("设备有设备控制器，不同设备通过封装设备控制器为设备驱动程序提供统一的接口给操作系统")]),v._v(" "),_("p",[v._v("……")])])}),[],!1,null,null,null);_.default=s.exports}}]);