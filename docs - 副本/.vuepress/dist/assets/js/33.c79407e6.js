(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{403:function(e,r,n){"use strict";n.r(r);var t=n(7),a=Object(t.a)({},(function(){var e=this,r=e._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"nginx环境"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#nginx环境"}},[e._v("#")]),e._v(" nginx环境：")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://www.jb51.net/server/299566yj6.htm#_label0",target:"_blank",rel:"noopener noreferrer"}},[e._v("nginx编译+配置环境"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("strong",[e._v("yum install -y pcre pcre-devel")])]),e._v(" "),r("p",[r("strong",[e._v("yum install -y zlib zlib-devel")])]),e._v(" "),r("p",[r("strong",[e._v("yum install -y openssl openssl-devel")])]),e._v(" "),r("p",[e._v("yum install gcc-c++")]),e._v(" "),r("p",[e._v("yum install -y wget")]),e._v(" "),r("p",[r("strong",[e._v("[nginx编译报错src/core/ngx_murmurhash.c:37:11: 错误：this statement may fall through "),r("a",{attrs:{href:"https://www.cnblogs.com/wxj612/p/13696628.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("-Werror=implicit-fallthrough=] h ^= data[2]"),r("OutboundLink")],1)])]),e._v(" "),r("p",[r("strong",[e._v("解决/usr/local/nginx/sbin/nginx: error while loading shared libraries: libluajit-5.1.so.2: cannot open")])]),e._v(" "),r("p",[r("a",{attrs:{href:"https://blog.csdn.net/weixin_45093060/article/details/104037482",target:"_blank",rel:"noopener noreferrer"}},[e._v("/usr/local/nginx/sbin/nginx: error while loading shared libraries: libluajit-5.1.so.2: cannot open_./nginx: error while loading shared libraries: lib-CSDN博客"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("解决无法找到"),r("strong",[e._v("struct crypt_data定义")])]),e._v(" "),r("p",[r("a",{attrs:{href:"https://www.jianshu.com/p/80079987978e",target:"_blank",rel:"noopener noreferrer"}},[e._v("nginx ‘struct crypt_data’没有名为‘current_salt’的成员"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("解决无法找到共享库**"),r("code",[e._v("libpcre.so.1")]),e._v("**")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://blog.csdn.net/pa5201314/article/details/44876931/",target:"_blank",rel:"noopener noreferrer"}},[e._v("error while loading shared libraries: libluajit-5.1.so.2: cannot open shared 解决办法-CSDN博客"),r("OutboundLink")],1)]),e._v(" "),r("h1",{attrs:{id:"调试"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#调试"}},[e._v("#")]),e._v(" 调试")]),e._v(" "),r("ul",[r("li",[r("p",[e._v("gdb关联进程调试时出现"),r("code",[e._v("ptrace: Operation not permitted.")])])]),e._v(" "),r("li",[r("p",[e._v("./configure --prefix=/nginx  --with-debug")])])]),e._v(" "),r("blockquote",[r("p",[e._v("./objs/Makefile 下修改  增加-g   （不确定是否需要）")])]),e._v(" "),r("p",[r("img",{attrs:{src:"/%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%BC%80%E5%8F%91/./image-20240426180230877-1714125755301-1-1714125758912-3.png",alt:"image-20240426180230877"}})]),e._v(" "),r("p",[r("code",[e._v("ps -ef | grep nginx")]),e._v(" 查看工作线程和主线程（e为显示所有进程，f为全格式显示）")]),e._v(" "),r("ul",[r("li",[e._v("为了方便调试，关闭主线程，只有一个工作线程")])]),e._v(" "),r("p",[r("code",[e._v("vim [nginx的安装目录]/conf/nginx.conf")])]),e._v(" "),r("p",[e._v("添加"),r("code",[e._v("master_process off;")]),e._v(" # 关闭主线程，只有一个工作线程")]),e._v(" "),r("p",[e._v("添加"),r("code",[e._v("daemon off")]),e._v(" # 关闭守护进程，前台工作")]),e._v(" "),r("ul",[r("li",[e._v("b ngx_event.c:ngx_process_events_and_timers")])]),e._v(" "),r("p",[r("a",{attrs:{href:"https://blog.51cto.com/u_12227/10351899",target:"_blank",rel:"noopener noreferrer"}},[e._v("nginx调试参考文档"),r("OutboundLink")],1)])])}),[],!1,null,null,null);r.default=a.exports}}]);